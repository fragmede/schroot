schroot (0.2.8-1) UNRELEASED; urgency=low

  * New upstream release.

 --

schroot (0.2.7-2) unstable; urgency=low

  * schroot/dchroot-session.cc (run_impl): Correctly chain up to the
    parent method.  This prevents the infinite recursion which caused
    dchroot to crash when using dchroot.conf (Closes: #355880).

 -- Roger Leigh <rleigh@debian.org>  Wed,  8 Mar 2006 15:47:11 +0000

schroot (0.2.7-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Wed,  8 Mar 2006 12:32:59 +0000

schroot (0.2.6-1) unstable; urgency=low

  * New upstream release.
  * Remove bashisms in all setup and run shell scripts (test "-o" and
    "function" in shell functions).  Thanks to Clint Adams for this patch
    (Closes: #354526).
  * Allow all commands run inside the chroot to be prefixed by another
    command (Closes: #354513).
  * Clean up the current session when SIGHUP is caught (Closes: #354780).
  * Move 50sbuild from /etc/schroot/run.d to /etc/schroot/setup.d.
  * Move 00check from /etc/schroot/run.d to /etc/schroot/exec.d.
  * debian/preinst:
    - Remove /etc/schroot/run.d/50sbuild if not modified locally.
    - Remove /etc/schroot/run.d/00check if not modified locally.
  * debian/postinst:
    - Move /etc/schroot/run.d/50sbuild to /etc/schroot/setup.d/50sbuild if
      modified locally.
    - Move /etc/schroot/run.d/00check to /etc/schroot/exec.d/00check if
      modified locally.
  * debian/schroot.init:
    - Rename $DAEMON to $SCHROOT.
    - Don't exit with an error if session recovery for an individual chroot
      fails.

 -- Roger Leigh <rleigh@debian.org>  Mon,  6 Mar 2006 18:54:30 +0000

schroot (0.2.5-1) unstable; urgency=low

  * New upstream release.
  * schroot/run/50sbuild: Create ${CHROOT_PATH}/var/lib/sbuild/srcdep-lock
    and set ownership and permissions of all files under
    ${CHROOT_PATH}/var/lib/sbuild to root:sbuild and 02775, respectively.
    Thanks to Adeodato Simó for this patch (Closes: #354462).
  * schroot/schroot.1.in: Correct mistakes in --help options.  Thanks to
    Clint Adams for this patch (Closes: #354477).

 -- Roger Leigh <rleigh@debian.org>  Sun, 26 Feb 2006 21:44:23 +0000

schroot (0.2.4-1) unstable; urgency=low

  * New upstream release.
  * Allow multiple chroots on a single filesystem for "block-device" and
    "lvm-snapshot" chroots.  Thanks to Adeodato Simó and Steve Langasek
    for this idea (Closes: #354237).
  * Allow basic session management when "run-session-scripts" is enabled
    for "plain" chroots, by using bind mounts.  This enables the setup
    scripts to run properly.  Thanks to Adeodato Simó for this idea
    (Closes: #354257).

 -- Roger Leigh <rleigh@debian.org>  Sat, 25 Feb 2006 13:03:28 +0000

schroot (0.2.3-2) unstable; urgency=low

  * debian/rules: dchroot must be installed setuid root.
  * debian/schroot.lintian-overrides: Add dchroot.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Feb 2006 13:38:32 +0000

schroot (0.2.3-1) unstable; urgency=low

  * New upstream release.
  * debian/control:
    - Provide, Conflict and Replace dchroot.
    - Enhances sbuild.
    - Suggest lvm-common for LVM support.
    - Update description.
  * debian/rules: Add --enable-dchroot to configure, to package the dchroot
    wrapper.
  * debian/README.Debian: Update dchroot notes.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Feb 2006 10:01:31 +0000

schroot (0.2.2-2) unstable; urgency=low

  * debian/control: Add pkg-config build dependency.

 -- Roger Leigh <rleigh@debian.org>  Tue,  7 Feb 2006 00:04:10 +0000

schroot (0.2.2-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Remove Glib from the build dependencies.
  * debian/control: Add versioned depends on libpam0g-dev >= 0.79-3.1,
    because earlier versions have broken headers, due to redefining
    internal glibc/libstdc++ types.

 -- Roger Leigh <rleigh@debian.org>  Mon,  6 Feb 2006 23:21:07 +0000

schroot (0.2.1-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Wed,  1 Feb 2006 11:30:43 +0000

schroot (0.2.0-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Suggest unzip, for use with file chroots.
  * debian/rules: Don't run the testsuite, which requires root to run
    successfully.

 -- Roger Leigh <rleigh@debian.org>  Sat, 28 Jan 2006 18:32:23 +0000

schroot (0.1.8-1) unstable; urgency=low

  * New upstream release.
  * debian/rules: Use /usr/lib rather than ${prefix}/lib for
    libexecdir, to avoid unexpanded shell vars in config.h.
  * debian/schroot.init: Remove "function" bashism.

 -- Roger Leigh <rleigh@debian.org>  Mon,  7 Nov 2005 19:41:42 +0000

schroot (0.1.7-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Add liblockdev to Build-Depends.
  * debian/rules:
    - Use --libexecdir when running configure
    - Use dh_installinit to install init script.
  * debian/schroot.init: New init script, used for session
    recovery at system startup.

 -- Roger Leigh <rleigh@debian.org>  Fri,  4 Nov 2005 19:34:25 +0000

schroot (0.1.6-1) unstable; urgency=low

  * New upstream release.
  * Don't run setup scripts by default, because this can cause
    data loss with custom chroot setups.  A "run-setup" chroot
    option has been added to configure the running of setup
    scripts, which are disabled by default for safety
    (Closes: #329403).
  * Manual pages say "schroot" rather than "sbuild" (Closes: #331550).
  * Preserve schroot.conf changes correctly when moving to
    /etc/schroot/schroot.conf, by checking the md5sum to
    detect local modifictions.  If not modified, delete and
    replace with the package version.
  * debian/rules: Set $localstatedir when running configure.

 -- Roger Leigh <rleigh@debian.org>  Thu, 13 Oct 2005 00:16:06 +0100

schroot (0.1.5-1) unstable; urgency=low

  * New upstream release.
  * Compute the location of schroot.conf properly in schroot.1 and
    schroot.conf.5 (Closes: #324914).
  * debian/postinst: If present, move /etc/schroot.conf to
    /etc/schroot/schroot.conf.
  * debian/rules, debian/schroot.lintian-overrides: Install
    lintian override for setuid-binary warning.

 -- Roger Leigh <rleigh@debian.org>  Sun, 11 Sep 2005 16:25:47 +0100

schroot (0.1.4-1) unstable; urgency=low

  * New upstream release.
  * debian/control:
    - Add gettext to Build-Depends.

 -- Roger Leigh <rleigh@debian.org>  Sun, 17 Jul 2005 18:14:32 +0100

schroot (0.1.3-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Sun, 03 Jul 2005 19:49:59 +0100

schroot (0.1.2-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Upgrade to Standards-Version 3.6.2.

 -- Roger Leigh <rleigh@debian.org>  Sat, 25 Jun 2005 21:46:24 +0100

schroot (0.1.1-1) unstable; urgency=low

  * New upstream release.
  * Initial Debian release (Closes: #315104).
  * debian/control:
    - Add buildd-tools developers to Uploaders.
    - Remove unused ${misc:Depends}.
  * Remove debian/conffiles, which is redundant with current versions of
    debhelper.
  * debian/copyright:
    - Update the postal address of the FSF.
    - Refer to /usr/share/common-licenses/GPL.
    - Add new download location.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Jun 2005 19:11:25 +0100

schroot (0.1.0-1) unstable; urgency=low

  * Initial release.

 -- Roger Leigh <rleigh@debian.org>  Sun, 19 Jun 2005 15:11:58 +0100

