schroot (1.3.1-1) experimental; urgency=low

  * New upstream development release.
  * schroot:
    - Return success when ending a session and the operation
      succeeded (Closes: #554907).

 -- Roger Leigh <rleigh@debian.org>  Sat, 07 Nov 2009 10:46:54 +0000

schroot (1.3.0-1) experimental; urgency=low

  [Roger Leigh]
  * New upstream development release.
  * debian/control:
    - libsbuild-dev is in section libdevel.
    - Build-Depend on Boost >= 1.39.
    - Build-Depend on debhelper v7.
    - Build-Depend on doxygen.
    - Update to Standards Version 3.8.3.
  * debian/compat: Use debhelper v7 compatibility mode.
  * debian/rules:
    - Use dh_prep in place of dh_clean -k.  Remove debian/install
      after running dh_prep.
    - Configure with --with-bash-completion-dir.
    - Configure with --enable-doxygen.
    - Split configure invocation onto multiple lines.
    - Only mkdir debian/build if it doesn't already exist.
  * schroot: Install bash completion.
  * schroot.conf: Use current distribution names (lenny and squeeze
    in place of sarge and etch (Closes: #516272).
  * sbuild-session.cc: Fix potential memory leak in is_group_member()
    (Closes: #517223).
  * schroot-script-config.5, schroot-setup.5: Fix typos
    (Closes: #517041).  Thanks to Loïc Minier.
  * schroot now ignores backup files (including dpkg conffile backups)
    in /etc/schroot/chroot.d (Closes: #513307, #496629).
  * mount-defaults: Bind mount /dev/shm rather than creating a new
    tmpfs inside the chroot to avoid potention denial of service
    attacks (Closes: #526788).  Thanks to Aurelien Jarno.
  * etc/setup.d/05lvm: Reorder lvm snapshot options to make more
    flexible (Closes: #494481).  Thanks to Timothy G Abbott for this
    suggestion.
  * If user authentication fails, return a nonzero exit status
    (Closes: #545706).  Thanks to Nelson Elhage for identifying this
    bug.

  [Jan-Marek Glogowski]
  * debian/control:
    - Build-Depends: Add doxygen and graphviz.
    - schroot-dbg: Add new package containing debugging symbols
      for schroot, dchroot and dchroot-dsa.  Only allow installation
      of correct package versions.
    - schroot-doc: Don't depend on pkg-config, suggest libsbuild-dev.
  * debian/rules:
    - Add check rule to run unit tests at install time.
    - Use "$(MAKE) -C" in place of explicit "cd && make".

 -- Roger Leigh <rleigh@debian.org>  Fri, 16 Oct 2009 21:44:52 +0100

schroot (1.2.3-1) unstable; urgency=low

  * New upstream stable release.
  * Detect and link against new versions of the Boost C++ libraries.

 -- Roger Leigh <rleigh@debian.org>  Sun, 17 May 2009 18:29:44 +0100

schroot (1.2.2-1) unstable; urgency=low

  * New upstream stable release.
  * Compile and link with POSIX thread support (Closes: #520713).
    libstdc++ std::tr1::shared_ptr does not appear to work
    correctly on Alpha without -pthread, failing during shared_ptr
    construction or assignment due to an failed internal glibc
    assertion while locking a pthread mutex.

 -- Roger Leigh <rleigh@debian.org>  Sun, 22 Mar 2009 16:56:38 +0000

schroot (1.2.1-1) unstable; urgency=low

  * New upstream stable release.
  * debian/control:
    - Upgrade to Standards-Version 3.8.0.
    - Don't Build-Depend upon -1 Debian revisions.
  * po:
    - Update eu translation (Closes: #479498).  Thanks to Piarres Beobide.
    - Update fr translation (Closes: #481648).  Thanks to Nicolas François.
    - Update pt translation (Closes: #480640).  Thanks to Pedro Ribeiro.
    - Update vi translation (Closes: #479750).  Thanks to Clytie Siddall.
    - Add zh_CN translation (Closes: #480174).  Thanks to LI Daobing (李道兵).
    - Update zh_CN translation.  Thanks to Ji ZhengYu.
  * sbuild/sbuild-lock.cc: Order of "struct flock" members is not assumed,
    for GNU/kFreeBSD portability (Closes: #485637).  Thanks to Petr
    Salinger.
  * schroot.1.in, schroot.conf.5.in: Document /etc/schroot/chroot.d
    (Closes: #487588).
  * setup/10mount: Don't clear mount options for LVM snapshots
    (Closes: #488726).
  * New "loopback" chroot type allows loopback mounting of files
    (Closes: #475515).

 -- Roger Leigh <rleigh@debian.org>  Sat, 05 Jul 2008 11:41:33 +0100

schroot (1.2.0-1) unstable; urgency=low

  * New upstream stable release.
  * Add eu translation (Closes: #462164).
  * Updated pt translation (Closes: #464053).
  * debian/control:
    - libsbuild-dev is in section libdevel.
    - Add libboost-filesystem-dev to Build-Depends.
    - Bump Standards-Version to 3.7.3.
  * debian/libsbuild-doc.doc-base: Use section Programming/C++
  * Setup and exec scripts check for existence and validity of
    script-config file options, as well as script-config itself, and exit with
    an error status and message if incorrect (Closes: #462680).
  * Reading the configuration no longer uses O_NOFOLLOW (Closes: #476332).
    Thanks to Timothy G Abbott.
  * sbuild/sbuild-util.h: Add missing typecast to fix FTBFS on
    GNU/kFreeBSD (Closes: #465972).  Thanks to Petr Salinger.
  * Building with G++ 4.3 now works (Closes: #467457).
  * dchroot.1 manual page no longer specifies -d as a short option for
    directory; this is only used for --preserve-environment
    (Closes: #476815).
  * schroot-mount now creates the mountpoint is not existent
    (Closes: #469038).  Many thanks to Kees Cook for this patch.

 -- Roger Leigh <rleigh@debian.org>  Mon, 05 May 2008 00:09:41 +0100

schroot (1.1.6-1) unstable; urgency=low

  * New upstream development release.
  * Acknowledge NMU.  Thanks to Lucas Nussbaum for fixing the Boost
    library names following another incompatible change in Boost
    (Closes: #439215).
  * debian/control: Suggest lvm2 instead of lvm-common (Closes: #452263).
  * debian/copyright:
    - Update with new GIT source code repository location.
    - Update licence to GPLv3.
  * debian/schroot.init: Update licence to GPLv3.
  * bin/schroot/setup/20network, bin/schroot/setup/30passwd: For files to
    copy, compare file device, inode and contents to avoid copying
    identical files (Closes: #428808).
  * If unknown keys are present in the configuration file, print a warning
    message to alert the user (Closes: #459658).
  * The filesystems to mount in the chroot may be customised by the system
    administrator through the use of an fstab file on a per-chroot basis,
    and a new helper utility, schroot-mount (Closes: #395062, #427047).
    Thanks for your patience while we took the time to implement this the
    right way.
  * Update Vietnamese translation (Closes: #461531).  Thanks to Clytie
    Siddall.
  * debian/schroot.preinst: Add rm_conffile function to remove
    /etc/schroot/setup.d/20network and /etc/schroot/setup.d/30passwd for
    versions prior to this.  These are replaced by
    /etc/schroot/setup.d/20copyfiles.
  * debian/schroot.NEWS: Document conffile changes.

 -- Roger Leigh <rleigh@debian.org>  Sun, 20 Jan 2008 22:51:04 +0000

schroot (1.1.5-1.1) unstable; urgency=low

  * Non-maintainer upload.
  * Ajusted configure.ac to deal with the boost multi/singlethread switch.
    Closes: #439215.

 -- Lucas Nussbaum <lucas@lucas-nussbaum.net>  Fri, 24 Aug 2007 22:23:16 +0200

schroot (1.1.5-1) unstable; urgency=low

  * New upstream development release.
  * debian/control: Use ${binary:Version}.
  * debian/schroot.preinst: In prep_mv_conffile(), use dpkg-query in
    place of reading /var/lib/dpkg/status directly.
  * bin/schroot/setup/10mount: Use --bind rather than --rbind for
    directory chroots.  This allows filesystem mounting to succeed when
    sub-mounts are already mounted on top of the original directory
    (Closes: #428805).  Thanks to Raphaël Hertzog for diagnosing this
    problem.
  * Calling "schroot -e -a" with no open sessions no longer outputs an
    error (Closes: #398679).  Thanks to Benjamin Seidenberg.
  * A new --session-name option allows users to name their sessions,
    rather than using the built-in UUID generation (Closes: #401159).
    Thanks to Lucas Nussbaum.
  * The schroot(1) manual page now has examples for using sessions
    (Closes: #401158).

 -- Roger Leigh <rleigh@debian.org>  Sun, 08 Jul 2007 20:50:08 +0100

schroot (1.1.4-1) unstable; urgency=low

  * New upstream development release.
  * debian/control:
    - Build-Depend on the latest version of Boost, due to the change of
      library symlinks.
    - Change section of libsbuild-doc to "doc".
    - Update package descriptions.
      + Add schroot boilerplate description to schroot-common,
        libsbuild-dev and libsbuild-doc (Closes: #425964).  Thanks to
        Craig Sanders.
      + Update schroot boilerplate.
      + Add a list of reasons not to use dchroot and dchroot-dsa instead
        of schroot.
  * Processes running in the chroot on stopping a session are now killed
    by the 15killprocs setup script (Closes: #391319).  Many thanks to
    Kees Cook for implementing this.
  * The 10mount script checks if the output of schroot-listmounts is empty
    before calling umount (Closes: #426416).  Thanks to Federico Di
    Gregorio.

 -- Roger Leigh <rleigh@debian.org>  Mon, 28 May 2007 21:52:05 +0100

schroot (1.1.3-1) unstable; urgency=low

  * New upstream development release.
  * bin/schroot-base/schroot-base-run.h, sbuild/sbuild-basic-keyfile.tcc:
    Cope with failure when the locale set in the user's environment is
    invalid, by falling back to the C locale (Closes: #425117).  Thanks to
    Martin Michlmayr for reporting this bug.

 -- Roger Leigh <rleigh@debian.org>  Sun, 20 May 2007 17:33:00 +0100

schroot (1.1.2-1) unstable; urgency=high

  * New upstream development release.
  * debian/control
    - Remove libsbuild1 dependency from libsbuild-dev.
    - libsbuild1-dev is in Section devel.
    - Use ${source:Version} to allow binNMUs.
    - Add new package, libsbuild-doc.
    - schroot-common Replaces schroot (<< 1.1.1).  Thanks to Hamish Moffatt
      and Adeodato Simó for reporting this bug (Closes: #422741, #422863).
  * debian/rules:
    - Split arch-dependent and arch-independent packages into separate
      rules.
    - Remove .map and .md5 files from the Doxygen docs.
  * debian/libsbuild-doc.docs: New file.  Install doxygen HTML
    documentation and tag file.
  * debian/libsbuild-doc.doc-base: Register docs with doc-base.
  * bin/schroot/setup/10mount: Don't exec schroot-listmounts in a
    subshell.  This prevents an error (such as a bad exit status) from
    being noticed by the script, and as a result failure to umount
    filesystems may result in severe dataloss when stop scripts then "rm
    -rf" the chroot.  Thanks to Lucas Nussbaum for reporting this bug, and
    Frans Pop for suggesting the solution (Closes: #422909).  Urgency is
    set high because this is a critical bug.

 -- Roger Leigh <rleigh@debian.org>  Thu, 10 May 2007 22:49:39 +0100

schroot (1.1.1-1) unstable; urgency=low

  [ Roger Leigh ]
  * New upstream development release.
  * debian/schroot.init: Add LSB init info and use LSB init functions.
  * debian/control:
    - schroot-common: New package, containing locale data.
    - libsbuild1-dev: New package, containing libsbuild headers, a static
      library and pkg-config data.
    - schroot, dchroot and dchroot-dsa depend upon schroot-common
  * debian/rules:
    - Add dh_makeshlibs.
    - Make dh_shlibdeps use the shlibs data for libsbuild1.
    - install: Don't run "make check".
    - Run configure with options to make only a static library.
  * debian/schroot.install: Don't package locale data.
  * debian/schroot-common.install: New file, install locale data.
  * debian/libsbuild1.install: New file, install libsbuild.so.*.
  * debian/libsbuild-dev.install: New file, installing headers, static
    library and pkg-config .pc file.
  * debian/schroot.default: New file, allowing customisation of the init
    script.  Thanks to Federico Di Gregorio (Closes: #416193).
  * debian/schroot.init:
    - Source /etc/default/schroot.
    - Add copyright header.

  [ Luk Claes ]
  * po/fr.po: Add French translation. Many thanks to Nicolas François
  <nicolas.francois@centraliens.net> (Closes: #414415).

 -- Roger Leigh <rleigh@debian.org>  Wed,  2 May 2007 20:36:11 +0100

schroot (1.1.0-1) unstable; urgency=low

  * New upstream development release.

 -- Roger Leigh <rleigh@debian.org>  Fri, 25 Aug 2006 20:39:23 +0100

schroot (1.0.6-1) unstable; urgency=low

  * New upstream release.
  * Add French translation, thanks to Nicolas François (Closes: #414415).

 -- Roger Leigh <rleigh@debian.org>  Sun, 11 Mar 2007 21:48:52 +0000

schroot (1.0.5-1) unstable; urgency=low

  * New upstream release.
  * schroot-listmounts: Don't segfault when realpath(3) returns null when
    the supplied path is nonexistent (Closes: #408617).

 -- Roger Leigh <rleigh@debian.org>  Sat, 27 Jan 2007 13:13:56 +0000

schroot (1.0.4-1) unstable; urgency=high

  * New upstream release.
  * debian/schroot.init: Add LSB init info and use LSB init functions.
  * schroot/schroot-listmounts-main.cc: Use realpath(3) to prevent severe
    dataloss when unmounting filesystems in chroots with symlinks in the
    SCHROOT_MOUNT_DIR path (Closes: #401180).

 -- Roger Leigh <rleigh@debian.org>  Sat, 23 Dec 2006 12:00:50 +0000

schroot (1.0.3-1) unstable; urgency=low

  * New upstream release.
  * dchroot/dchroot-session.cc, dchroot-dsa/dchroot-dsa-session.cc: The
    syslog logging of the command or shell being run in the chroot now
    only occurs when running as root or switching to another user.  If the
    user is the same inside and outside the chroot, and not root, the
    command or shell being run will not be logged.  Thanks to Helge
    Kreutzmann (Closes: #381695).

 -- Roger Leigh <rleigh@debian.org>  Mon,  2 Oct 2006 22:37:12 +0100

schroot (1.0.2-1) unstable; urgency=low

  * New upstream release.
  * sbuild/sbuild-session.cc: The syslog logging of the command or shell
    being run in the chroot now only occurs when running as root or
    switching to another user.  If the user is the same inside and outside
    the chroot, and not root, the command or shell being run will not be
    logged.  Thanks to Helge Kreutzmann (Closes: #381695).

 -- Roger Leigh <rleigh@debian.org>  Mon, 11 Sep 2006 22:42:53 +0100

schroot (1.0.1-1) unstable; urgency=low

  * New upstream release.
  * sbuild/sbuild-chroot.cc: After using --begin-session, reading session
    configuration no longer fails (Closes: #381271).

 -- Roger Leigh <rleigh@debian.org>  Thu,  3 Aug 2006 11:43:53 +0100

schroot (1.0.0-1) unstable; urgency=low

  * New upstream release.
  * debian/copyright:
    - Update with location of new SVN repository and Alioth file download
      location.
    - Add location of SVN schroot-1.0 branch.
  * schroot/schroot-listmounts-main.cc: mounts is const, to fix a GCC 4.0
    compiler bug: "FTBFS: error: no match for ‘operator!=’ in ‘pos !=
    std::vector’", thanks to Jens Seidel (Closes: #379478).
  * po/de.po: New German translation, thanks to Jens Seidel
    (Closes: #379483).

 -- Roger Leigh <rleigh@debian.org>  Mon, 31 Jul 2006 11:58:08 +0100

schroot (0.99.4-1) unstable; urgency=low

  * New upstream release.
  * The terminal state is no longer saved and restored when running a
    command (Closes: #378469).

 -- Roger Leigh <rleigh@debian.org>  Thu, 20 Jul 2006 16:08:27 +0100

schroot (0.99.3-1) unstable; urgency=low

  * New upstream release.
  * sbuild/sbuild-dirstream.h: The dirstream extraction operator is
    declared outside the class, in addition to the friend declaration.
    This fixes a compilation error with GCC 4.2 (Closes: #377433).  Thanks
    to Martin Michlmayr for reporting this.
  * dchroot/dchroot-options.cc, dchroot/dchroot-session.cc: Allow any
    number of command options, and concatenate all command options into a
    single command, separated by spaces.  This restores compatibility with
    dchroot 0.13 and earlier (Closes: #378028).  Thanks to David Liontooth
    for reporting this.
  * Terminal settings are correctly restored under all normal exit
    conditions (Closes: #378152).
  * debian/schroot.docs: Add the contents of debian/docs.
  * debian/docs: Remove.
  * debian/rules:
    - The /usr/share/doc directories for dchroot and dchroot-dsa are
      symlinks to schroot.
    - Build in debian/build using VPATH.
    - Use debian/build/config.status in place of config.status.
  * debian/dchroot.preinst: New file.  Remove /usr/share/doc/dchroot.
  * debian/dchroot-dsa.preinst: New file.  Remove
    /usr/share/doc/dchroot-dsa.

 -- Roger Leigh <rleigh@debian.org>  Fri, 14 Jul 2006 21:06:05 +0100

schroot (0.99.2-2) unstable; urgency=low

  * test/sbuild-personality.h: Modify the test for automatic personality
    detection, which breaks on the hppa architecture (it uses "linux32"
    rather than "linux" by default).  It now allows "linux", "linux_32bit"
    and "linux32" as valid personalities.

 -- Roger Leigh <rleigh@debian.org>  Fri,  7 Jul 2006 18:46:49 +0100

schroot (0.99.2-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Build-Depends on libboost-regex-dev.

 -- Roger Leigh <rleigh@debian.org>  Thu,  6 Jul 2006 17:54:17 +0100

schroot (0.99.1-1) unstable; urgency=low

  * New upstream release.
  * dchroot behaviour now matches the chdir and command execution
    behaviour of the original dchroot (Closes: #374713, #374887).
  * Output is now correctly aligned in UTF-8 locales (Closes: #373943).
  * debian/control: Add dchroot-dsa package.
  * debian/rules:
    - install dchroot-dsa setuid root, and add dchroot-dsa lintian
      override.
    - run testsuite in build rule.
    - copy config.sub and config.guest to the scripts directory.
  * debian/dchroot-dsa.install: New file.
  * debian/dchroot-dsa.postrm: New file.
  * debian/dchroot-dsa.lintian-overrides: New file.
  * debian/schroot.docs: New file.  Add THANKS.

 -- Roger Leigh <rleigh@debian.org>  Mon, 26 Jun 2006 11:10:24 +0100

schroot (0.99.0-1) unstable; urgency=low

  * New upstream release.
  * Bind mounts are now used for session-managed plain chroots
    (Closes: #354344).
  * root is no longer denied access when root is not in the groups or
    root_groups lists (Closes: #372569).
  * schroot.conf supports a personality option to set the process
    execution domain, and dchroot.conf supports an additional third
    personality option to do the same (Closes: #372874).
  * debian/control:
    - split dchroot into a separate package.
    - schroot conflicts with dchroot << 0.13.
    - dchroot depends upon schroot to use the schroot configuration,
      scripts and helper binaries.
    - dchroot and schroot Suggest debootstrap.
    - add Luk Claes as a co-maintainer.
  * debian/rules:
    - Use dh_install
    - Install dchroot lintian override.
    - Install init script into rcS, and don't restart on upgrade.  This
      will ensure that running sessions are not disrupted on upgrade.
  * debian/dchroot.install: New file.
  * debian/schroot.install: New file.
  * debian/schroot.lintian-overrides: Remove dchroot lintian override.
  * debian/dchroot.lintian-overrides: Add dchroot lintian override.
  * debian/schroot.preinst: Move from debian/preinst.
  * debian/schroot.postinst:
    - Move from debian/postinst.
    - If upgrading from a version less than 0.99.0-1, remove the
      rc.d symlinks, because rcS is used instead of the normal runlevels.
  * debian/dchroot.postrm: New file. Remove /etc/dchroot.conf on purge.
  * debian/schroot.README.Debian: Move from debian/README.Debian.  Remove
    outdated dchroot bits.
  * debian/schroot.NEWS: New file. Document the splitting out of dchroot.

 -- Roger Leigh <rleigh@debian.org>  Sat, 17 Jun 2006 14:22:14 +0100

schroot (0.2.11-1) unstable; urgency=high

  * New upstream release.
  * debian/control: Upgrade to Standards-Version 3.7.2.
  * schroot/schroot.1.in, schroot/schroot.conf.5.in: Correct ambiguity and
    mistakes in the documentation (Closes: #369633).  Thanks to Andreas
    Bombe.
  * 05file and 10mount take additional steps to ensure that filesystems
    are umounted correctly, and that no chroot will be purged if there are
    mounted filesystems inside it (Closes: #369626).
  * Don't package the static libsbuild.a.

 -- Roger Leigh <rleigh@debian.org>  Sat, 10 Jun 2006 09:50:06 +0100

schroot (0.2.10-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Upgrade to Standards-Version 3.7.0.
  * sbuild/sbuild-chroot-config.cc: If a chroot alias is the same as the
    chroot name, don't warn about it, because the effect is still
    unambiguous (Closes: #366608).

 -- Roger Leigh <rleigh@debian.org>  Sat, 27 May 2006 13:07:14 +0100

schroot (0.2.9-1) unstable; urgency=low

  * New upstream release.
  * The package now builds cleanly with GCC 4.2 (Closes: #362205).
  * schroot/setup/10mount: Create mountpoints if they do not exist
    (Closes: #364332).
  * schroot/sbuild-session.cc: Fall back to home directory instead of / if
    the current working directory does not exist in the chroot
    (Closes: #363475).
  * debian/README.Debian: Move chroot safety advice to README
    (Closes: #361108).

 -- Roger Leigh <rleigh@debian.org>  Sun, 30 Apr 2006 13:26:00 +0100

schroot (0.2.8-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Sun, 19 Mar 2006 11:53:35 +0000

schroot (0.2.7-2) unstable; urgency=low

  * schroot/dchroot-session.cc (run_impl): Correctly chain up to the
    parent method.  This prevents the infinite recursion which caused
    dchroot to crash when using dchroot.conf (Closes: #355880).

 -- Roger Leigh <rleigh@debian.org>  Wed,  8 Mar 2006 15:47:11 +0000

schroot (0.2.7-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Wed,  8 Mar 2006 12:32:59 +0000

schroot (0.2.6-1) unstable; urgency=low

  * New upstream release.
  * Remove bashisms in all setup and run shell scripts (test "-o" and
    "function" in shell functions).  Thanks to Clint Adams for this patch
    (Closes: #354526).
  * Allow all commands run inside the chroot to be prefixed by another
    command (Closes: #354513).
  * Clean up the current session when SIGHUP is caught (Closes: #354780).
  * Move 50sbuild from /etc/schroot/run.d to /etc/schroot/setup.d.
  * Move 00check from /etc/schroot/run.d to /etc/schroot/exec.d.
  * debian/preinst:
    - Remove /etc/schroot/run.d/50sbuild if not modified locally.
    - Remove /etc/schroot/run.d/00check if not modified locally.
  * debian/postinst:
    - Move /etc/schroot/run.d/50sbuild to /etc/schroot/setup.d/50sbuild if
      modified locally.
    - Move /etc/schroot/run.d/00check to /etc/schroot/exec.d/00check if
      modified locally.
  * debian/schroot.init:
    - Rename $DAEMON to $SCHROOT.
    - Don't exit with an error if session recovery for an individual chroot
      fails.

 -- Roger Leigh <rleigh@debian.org>  Mon,  6 Mar 2006 18:54:30 +0000

schroot (0.2.5-1) unstable; urgency=low

  * New upstream release.
  * schroot/run/50sbuild: Create ${CHROOT_PATH}/var/lib/sbuild/srcdep-lock
    and set ownership and permissions of all files under
    ${CHROOT_PATH}/var/lib/sbuild to root:sbuild and 02775, respectively.
    Thanks to Adeodato Simó for this patch (Closes: #354462).
  * schroot/schroot.1.in: Correct mistakes in --help options.  Thanks to
    Clint Adams for this patch (Closes: #354477).

 -- Roger Leigh <rleigh@debian.org>  Sun, 26 Feb 2006 21:44:23 +0000

schroot (0.2.4-1) unstable; urgency=low

  * New upstream release.
  * Allow multiple chroots on a single filesystem for "block-device" and
    "lvm-snapshot" chroots.  Thanks to Adeodato Simó and Steve Langasek
    for this idea (Closes: #354237).
  * Allow basic session management when "run-session-scripts" is enabled
    for "plain" chroots, by using bind mounts.  This enables the setup
    scripts to run properly.  Thanks to Adeodato Simó for this idea
    (Closes: #354257).

 -- Roger Leigh <rleigh@debian.org>  Sat, 25 Feb 2006 13:03:28 +0000

schroot (0.2.3-2) unstable; urgency=low

  * debian/rules: dchroot must be installed setuid root.
  * debian/schroot.lintian-overrides: Add dchroot.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Feb 2006 13:38:32 +0000

schroot (0.2.3-1) unstable; urgency=low

  * New upstream release.
  * debian/control:
    - Provide, Conflict and Replace dchroot.
    - Enhances sbuild.
    - Suggest lvm-common for LVM support.
    - Update description.
  * debian/rules: Add --enable-dchroot to configure, to package the dchroot
    wrapper.
  * debian/README.Debian: Update dchroot notes.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Feb 2006 10:01:31 +0000

schroot (0.2.2-2) unstable; urgency=low

  * debian/control: Add pkg-config build dependency.

 -- Roger Leigh <rleigh@debian.org>  Tue,  7 Feb 2006 00:04:10 +0000

schroot (0.2.2-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Remove Glib from the build dependencies.
  * debian/control: Add versioned depends on libpam0g-dev >= 0.79-3.1,
    because earlier versions have broken headers, due to redefining
    internal glibc/libstdc++ types.

 -- Roger Leigh <rleigh@debian.org>  Mon,  6 Feb 2006 23:21:07 +0000

schroot (0.2.1-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Wed,  1 Feb 2006 11:30:43 +0000

schroot (0.2.0-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Suggest unzip, for use with file chroots.
  * debian/rules: Don't run the testsuite, which requires root to run
    successfully.

 -- Roger Leigh <rleigh@debian.org>  Sat, 28 Jan 2006 18:32:23 +0000

schroot (0.1.8-1) unstable; urgency=low

  * New upstream release.
  * debian/rules: Use /usr/lib rather than ${prefix}/lib for
    libexecdir, to avoid unexpanded shell vars in config.h.
  * debian/schroot.init: Remove "function" bashism.

 -- Roger Leigh <rleigh@debian.org>  Mon,  7 Nov 2005 19:41:42 +0000

schroot (0.1.7-3) unstable; urgency=low

  * debian/schroot.init: Remove "function" bashism.  Applied patch
    from upstream CVS (Closes: #337761).  Thanks to Robert Luberda
    for the patch.

 -- Roger Leigh <rleigh@debian.org>  Mon,  7 Nov 2005 19:46:36 +0000

schroot (0.1.7-2) unstable; urgency=low

  * schroot/sbuild-sessions.c: Don't check for supplementary group
    IDs if there are none available, and check the process' GID in
    addition.  This allows session recovery at startup, since init
    does not appear to set supplementary groups.  Applied patch
    from upstream CVS (Closes: #337628).
  * debian/rules: Use /usr/lib rather than ${prefix}/lib for
    libexecdir, to avoid unexpanded shell vars in config.h.

 -- Roger Leigh <rleigh@debian.org>  Sat,  5 Nov 2005 14:44:50 +0000

schroot (0.1.7-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Add liblockdev to Build-Depends.
  * debian/rules:
    - Use --libexecdir when running configure
    - Use dh_installinit to install init script.
  * debian/schroot.init: New init script, used for session
    recovery at system startup.

 -- Roger Leigh <rleigh@debian.org>  Fri,  4 Nov 2005 19:34:25 +0000

schroot (0.1.6-1) unstable; urgency=low

  * New upstream release.
  * Don't run setup scripts by default, because this can cause
    data loss with custom chroot setups.  A "run-setup" chroot
    option has been added to configure the running of setup
    scripts, which are disabled by default for safety
    (Closes: #329403).
  * Manual pages say "schroot" rather than "sbuild" (Closes: #331550).
  * Preserve schroot.conf changes correctly when moving to
    /etc/schroot/schroot.conf, by checking the md5sum to
    detect local modifictions.  If not modified, delete and
    replace with the package version.
  * debian/rules: Set $localstatedir when running configure.

 -- Roger Leigh <rleigh@debian.org>  Thu, 13 Oct 2005 00:16:06 +0100

schroot (0.1.5-1) unstable; urgency=low

  * New upstream release.
  * Compute the location of schroot.conf properly in schroot.1 and
    schroot.conf.5 (Closes: #324914).
  * debian/postinst: If present, move /etc/schroot.conf to
    /etc/schroot/schroot.conf.
  * debian/rules, debian/schroot.lintian-overrides: Install
    lintian override for setuid-binary warning.

 -- Roger Leigh <rleigh@debian.org>  Sun, 11 Sep 2005 16:25:47 +0100

schroot (0.1.4-1) unstable; urgency=low

  * New upstream release.
  * debian/control:
    - Add gettext to Build-Depends.

 -- Roger Leigh <rleigh@debian.org>  Sun, 17 Jul 2005 18:14:32 +0100

schroot (0.1.3-1) unstable; urgency=low

  * New upstream release.

 -- Roger Leigh <rleigh@debian.org>  Sun, 03 Jul 2005 19:49:59 +0100

schroot (0.1.2-1) unstable; urgency=low

  * New upstream release.
  * debian/control: Upgrade to Standards-Version 3.6.2.

 -- Roger Leigh <rleigh@debian.org>  Sat, 25 Jun 2005 21:46:24 +0100

schroot (0.1.1-1) unstable; urgency=low

  * New upstream release.
  * Initial Debian release (Closes: #315104).
  * debian/control:
    - Add buildd-tools developers to Uploaders.
    - Remove unused ${misc:Depends}.
  * Remove debian/conffiles, which is redundant with current versions of
    debhelper.
  * debian/copyright:
    - Update the postal address of the FSF.
    - Refer to /usr/share/common-licenses/GPL.
    - Add new download location.

 -- Roger Leigh <rleigh@debian.org>  Tue, 21 Jun 2005 19:11:25 +0100

schroot (0.1.0-1) unstable; urgency=low

  * Initial release.

 -- Roger Leigh <rleigh@debian.org>  Sun, 19 Jun 2005 15:11:58 +0100

